import React, { useEffect, useState } from "react";
import { Card } from "@/components/ui/card";
import { SiDiscord, SiInstagram, SiTiktok } from "react-icons/si";
import { FaCoins } from "react-icons/fa";

export default function ServerKotamantan() {
  const [links] = useState([
    { id: 1, title: "Discord", url: "https://discord.gg/s7jvbz96Yk", icon: <SiDiscord className="mr-2" /> },
    { id: 2, title: "Instagram", url: "https://instagram.com", icon: <SiInstagram className="mr-2" /> },
    { id: 3, title: "TikTok", url: "https://tiktok.com", icon: <SiTiktok className="mr-2" /> },
  ]);

  useEffect(() => {
    let hue = 0;
    const interval = setInterval(() => {
      document.getElementById("rainbow-username").style.color = `hsl(${hue}, 100%, 50%)`;
      hue = (hue + 6.25) % 360;
    }, 80);
    return () => clearInterval(interval);
  }, []);

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-cover bg-center p-4 relative overflow-hidden" style={{ backgroundImage: 'url(https://i.imgur.com/0L478Op.jpeg)' }}>
      {/* Snowfall Effect */}
      <div className="absolute top-0 left-0 w-full h-full pointer-events-none">
        {[...Array(50)].map((_, i) => (
          <div key={i} className="snowflake absolute w-2 h-2 bg-white opacity-80 rounded-full" style={{
            left: `${Math.random() * 100}vw`,
            top: `${Math.random() * 100}vh`,
            animation: `fall ${Math.random() * 5 + 3}s linear infinite`
          }} />
        ))}
      </div>

      <Card className="w-full max-w-lg md:max-w-2xl lg-max-w-3xl p-6 bg-[#dce1e4] bg-opacity-90 backdrop-blur-lg shadow-lg rounded-2xl text-center relative transition-all duration-500 ease-in-out hover:bg-opacity-95">
        <div className="flex flex-col items-center mb-4">
          <img src="https://i.imgur.com/cO74jMe.png" alt="Profile" className="w-40 h-22.5 object-cover rounded-lg mb-2 border-4 border-transparent" />
          <h2 id="rainbow-username" className="text-xl font-semibold">KOTAMANTAN ROLEPLAY</h2>
          <p className="text-[#f2f5f5]">@kotamantanrp</p>
          <p className="text-lg font-medium mt-2">Server = <span className="text-cyan-400">Upcoming</span> <FaCoins className="inline text-yellow-500 ml-1" /></p>
          <iframe width="100%" height="120" scrolling="no" frameBorder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1689958905&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>
        </div>
        <div className="flex flex-col gap-4 w-full">
          {links.map((link) => (
            <a
              key={link.id}
              href={link.url}
              target="_blank"
              rel="noopener noreferrer"
              className="flex items-center justify-center bg-blue-500 text-white py-3 px-6 rounded-xl shadow-md hover:bg-blue-600 transition-all w-full text-lg"
            >
              {link.icon} {link.title}
            </a>
          ))}
        </div>
      </Card>

      {/* Snowfall CSS */}
      <style jsx>{`
        @keyframes fall {
          from {
            transform: translateY(-10vh);
          }
          to {
            transform: translateY(100vh);
          }
        }
        .snowflake {
          position: absolute;
          width: 5px;
          height: 5px;
          background: white;
          opacity: 0.8;
          border-radius: 50%;
          animation: fall linear infinite;
        }
      `}</style>
    </div>
  );
}
